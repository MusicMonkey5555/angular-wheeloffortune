<h1 class="game-title">{{name.toUpperCase()}}</h1>
<app-puzzle-board
  *ngIf="Mode !== GameModes.Setup"
  [puzzle]="PuzzleGrid.Puzzle"
  [title]="PuzzleTitle"
></app-puzzle-board>
<br />
<app-score-board
  [hidden]="Mode === GameModes.Setup"
  [players]="Players"
></app-score-board>
<br />

<label [hidden]="Mode === GameModes.Setup || Action !== GameActions.GuessLetter">Guess Letter</label>
<input
  type="text"
  *ngIf="Mode !== GameModes.Setup && Action == GameActions.GuessLetter"
  maxlength="1"
  #guessLetter
  (keyup)="onLetterGuess(guessLetter.value)"
/>
<label [hidden]="Mode === GameModes.Setup || Action !== GameActions.Spin">Points</label>
<input
  type="number"
  *ngIf="Mode !== GameModes.Setup && Action == GameActions.Spin"
  #enterPoints
  (keyup)="onEnterPoints(enterPoints.value)"
/>

<label [hidden]="Mode === GameModes.Setup || Action !== GameActions.GuessLetter">Guess Puzzle</label>
<input
  type="text"
  *ngIf="Mode !== GameModes.Setup && Action == GameActions.GuessPuzzle"
  #guessPuzzle
  (keyup)="onPuzzleGuessLetter(guessPuzzle.value)"
/>
<button
  *ngIf="Mode !== GameModes.Setup && Action == GameActions.GuessPuzzle"
  class="button green"
  (click)="onPuzzleGuess()"
>
  Submit
</button>
<button
  [hidden]="Mode === GameModes.Setup || Action !== GameActions.None"
  class="button wheel"
  (click)="chooseSpin()"
>
  Spin
</button>

<button
  [hidden]="Mode === GameModes.Setup || Action !== GameActions.None"
  class="button green"
  (click)="chooseGuessPuzzle()"
>
  Guess Puzzle
</button>
<button
  [hidden]="Mode === GameModes.Setup || Action !== GameActions.Spin"
  class="button green"
  (click)="chooseGuessLetter()"
>
  Guess Letter
</button>
<button
  [hidden]="Mode === GameModes.Setup || Action !== GameActions.Spin"
  class="button"
  (click)="onBankrupt()"
>
  Bankrupt
</button>

<button [hidden]="Mode == GameModes.Setup">Restart Game</button>
<button
  [hidden]="Mode !== GameModes.Setup"
  [ngClass]="editSetting === 'settings' ? 'toggle-tab-on' : 'toggle-tab-off'"
  (click)="editSetting = 'settings'"
>
  Settings
</button>
<button
  [hidden]="Mode !== GameModes.Setup"
  [ngClass]="editSetting === 'puzzles' ? 'toggle-tab-on' : 'toggle-tab-off'"
  (click)="editSetting = 'puzzles'"
>
  Set Puzzles
</button>
<button
  [hidden]="Mode !== GameModes.Setup"
  [ngClass]="editSetting === 'players' ? 'toggle-tab-on' : 'toggle-tab-off'"
  (click)="editSetting = 'players'"
>
  Players
</button>
<div class="tab-box">
  <app-settings
    *ngIf="(Mode === GameModes.Setup && editSetting === 'settings')"
    (onSavedChanges)="onSettingsSaved($event)"
  ></app-settings>
  <app-set-puzzles
    *ngIf="(Mode === GameModes.Setup && editSetting === 'puzzles')"
    [puzzles]="GamePuzzles"
    [maxPuzzleLength]="maxPuzzleLength()"
    [gridLength]="GridLength"
    (onSavedChanges)="onPuzzlesSaved($event)"
  ></app-set-puzzles>
  <div
    [hidden]="!(Mode === GameModes.Setup && editSetting === 'players')"
    class="form-group"
  >
    <input
      [hidden]="Players.length >= Settings.MaxPlayerCount"
      #newPlayerName
      type="text"
      placeholder="Player Name"
    />
    <button
      class="button green"
      [hidden]="Players.length >= Settings.MaxPlayerCount"
      (click)="addPlayer(newPlayerName.value);newPlayerName.value = '';"
    >
      Add Player
    </button>
    <span>{{Players.length}} of {{Settings.MaxPlayerCount}}</span>
    <ul>
      <li *ngFor="let player of Players; index as i">
        {{player.Name}}
        <button (click)="removePlayer(i)">Remove</button>
      </li>
    </ul>
  </div>
</div>
<button
  *ngIf="Mode === GameModes.Setup && Players.length > 1"
  class="button green"
  (click)="startGame()"
>
  Start Game
</button>
